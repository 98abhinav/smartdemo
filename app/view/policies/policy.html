<ng-include src="config.domainPath+'/shared/header.html'"></ng-include>
<div class="navigationpage_wrapper" ng-controller="policiesController" >
    <div class="site-canvas">
        <ng-include src="config.domainPath+'/shared/menu.html'"></ng-include>
        <div class="container-fluid slide_up" >
            <div class="navright_container listpage_container" arrow-selector>
                <ul class="page_path">
                    <li><a href="{{config.urlPath}}/home">Home </a></li>
                    <li><a href="{{config.urlPath}}/home/{{applicationId}}">{{applicationName}} </a></li>
                    <li class="last">{{policyType| limitTo:policyType.length-1 |capitalize}} Policies</li>
                </ul>
                <div class="header_info">
                    <h2 class="page_heading"> 
                        <span class="header">{{policyType| limitTo:policyType.length-1 |capitalize}} Policies</span>
                        <span style="float:right"> 
                            <a href="{{config.urlPath}}/{{applicationId}}/search/policies/{{policyType}}"><img src="{{config.domainPath}}/assets/images/search_icon_blue.png"></a> 
                        </span>	
                    </h2>
                    <div class="clearfix"></div>
                </div>
                <!--button ng-click="confirm()" type="button" class="am-btn am-btn-warning am-btn-block" >Try it!</button-->
                <div class="view_details_field_spacer"></div>
                <div class="list_boxshadow">
                    <div class="pageform_wrapper">
                        <div class="list_view_container">
                            <div class="list_container grid_box">
                                <table st-pipe="callServer" st-table="authzPolicies"  class="smart-table table table-striped" cellspacing="0" cellpadding="0">
                                    <thead>
                                        <tr>
                                            <th class="search_box full"> <span class="search_header" >Name</span> <a class="search_button" ng-click="startSearch()" ng-show="searchIcon"><img src="{{config.domainPath}}/assets/images/search_list.png"  alt=""/></a>
                                    <div class="search_window animate_sideways" ng-show="searchBox">
                                        <input type="text" focus-on="focusInput" st-search="name"  ng-model="search" placeholder="Search">
                                        <a class="close_button" st-refresh='name' ng-click="endSearch()">&times;</a> </div>
<abbr title="Sort">
                                        <span  class="sort_icon" ng-if="authzPolicies != null" st-sort-default="{{sortType_policy}}" st-skip-natural="true" st-sort="name" ></span> 

</abbr>

                                    </th>
                                    </tr>
                                    </thead>
                                    <tbody id="scrolltable">
                                        <tr ng-show="!isLoading"  ng-repeat="authzPolicyDetails in authzPolicies" ng-click='selectAuthzPolicy(authzPolicyDetails,$index)' ng-class="{selectedActive: $index == selectedRow}"  >
                                            <td>{{authzPolicyDetails.name}}</td>
                                        </tr>                                       
                                        <tr ng-show="isLoading">
                                            <td  class="text-center loader-area"><div ng-show="isLoading" class="loading-indicator"></div></td>
                                        </tr>
                                         <tr ng-if="authzPolicies == null">
                                            <td class="alert">{{error}}</td>
                                        </tr>
                                    </tbody>
                                    <tfoot class="pagination-container" ng-if="rolePolicies != null">
                                        <tr>
                                            <td class="paginationarea"><div class="left-pagination" st-pagination="" st-items-by-page="itemsByPage" ></div>
                                                <div class="page_change">
                                                   <select ng-model="itemsByPage" id="itemsByPage" name="itemsByPage" ng-change="setItemsByPage()">
                                                        <option ng-repeat="data in paginationPageSizes" value="{{data}}" ng-selected="itemsByPage == data">{{data}}</option>
                                                    </select>
                                                </div></td>
                                        </tr>
                                    </tfoot>
                                </table>                              
                            </div>
                            <div class="view_container">
                                <div class="listgridheader"> 
                                    <a  ng-if="access[module]==accessAdmin  && authzPolicies != null" href="javascript:;" ng-click="confirmDelete(selectedAuthzPolicy.id)" class="primary ico_delete"><!--<img src="{{config.domainPath}}/assets/images/delete_list.png">--><span class="action">Delete</span></a> 
                                    <a ng-if="access[module]==accessAdmin  && authzPolicies != null" href="{{config.urlPath}}/{{applicationId}}/policies/{{policyType}}/edit/{{selectedAuthzPolicy.id}}" class="primary ico_edit"><!--<img src="{{config.domainPath}}/assets/images/edit_list.png">--><span class="action">Edit</span></a> 
                                    <a ng-if="access[module]==accessAdmin" href="{{config.urlPath}}/{{applicationId}}/policies/{{policyType}}/add"  class="primary ico_add" ><!--<img src="{{config.domainPath}}/assets/images/add_list.png">--><span class="action">Add</span></a>
                                    <div class="clearfix"></div>
                                </div>
                                <div  class="view_details" ng-if="authzPolicies == null">
                                    <p class="alert alert_container"><span>{{error}}</span></p>
                                </div>
                                <div  class="view_details" ng-show="authzPolicies != null">
                                    <div ng-if="rolePolicies == null" class="scrollrightdiv alert_container" > 
                                        <img src="{{config.domainPath}}/assets/images/alert.png"><br>{{error}}</div>

                                    <div id="scrollrightdiv" class="scrollrightdiv" >
                                        <div class="row">
                                        <div class="role_permit_deny">
                                                <div ng-if="selectedAuthzPolicy.effect" > <img src="{{config.domainPath}}/assets/images/permit_blue.png" alt="">
                                                    <p>Permit</p>
                                                </div>
                                                <div ng-if="!selectedAuthzPolicy.effect"> <img src="{{config.domainPath}}/assets/images/deny_blue.png" alt="">
                                                    <p>Deny</p>
                                                </div>
                                            </div>
                                            <div class="col-lg-11">
                                                <label>Name</label>
                                                <p>{{ selectedAuthzPolicy.name}}
                                                <abbr title="View Description"><a ng-click="toggle()"><img src="{{config.domainPath}}/assets/images/read_more.png"> </a></abbr></p>
                                            
                                            </div>
                                            
                                        </div> 
                                              
                                        <div ng-if="list_hide">
                                            <div ng-show="description.active" class="fadein fadeout">       
                                            <div class="view_details_field_spacer"></div>
                                            <label>Description</label>
                                            <p>{{ selectedAuthzPolicy.description !=null ? selectedAuthzPolicy.description : "---"}}</p>
                                            </div>
                                        </div>
                                        <div class="view_details_field_spacer"></div>
                                        <div class="users_grout_header">
                                        <label>{{policyType|capitalize}}</label>
                                        </div>                                        
                                        <div  st-table="selectedPolicyPrincipals" st-safe-src="selectedAuthzPolicyPrincipals" ng-class="(selectedAuthzPolicyPrincipalCount > 8) ? 'view-sub-list-wrapper' : 'view-sub-list-wrapper-less'" >
                                            <div class="view-sub-list view-sub-list-header-right"> 
                                                <div ng-if="selectedAuthzPolicyPrincipalCount > rightPageinationPerPage" class="search_box">
                                                    <span class="search_header">Name</span>
                                                    <a class="search_icon_right_space search_button" ng-click="startViewSearch('principals')" ng-if="principalsearchIcon"><img src="{{config.domainPath}}/assets/images/assign_search.png" width="15" height="15" alt=""/></a>
                                                    <div class="search_window animate_sideways" ng-show="principalsearchBox">                                        
                                                        <input class="search_reset" type="text" focus-on="principalfocusInput" ng-model="search_principal"  st-search=""  placeholder="Search">
                                                        <a class="close_button" st-refresh='name' ng-click="endViewSearch('principals')">&times;</a>
                                                    </div>                                                                        
                                                    <div  class="right-pagination" st-pagination="" st-items-by-page="rightPageinationPerPage" st-template="shared/right-pagination.html" ></div>
                                                    <div class="search_sort_right">
                                                        <abbr title="Sort">
                                                        <span  class="sort_icon"  st-sort-default="{{sortType}}" st-skip-natural="true" st-sort="{{policyType=='users'?'uid':'name'}}" ></span>

</abbr>
                                                    </div>
                                                </div>

                                                <div ng-if="selectedAuthzPolicyPrincipalCount <= rightPageinationPerPage" class="full search_box">
                                                    <span class="search_header">Name</span>
                                                    <a class="search_button" ng-click="startViewSearch('principals')" ng-if="principalsearchIcon"><img src="{{config.domainPath}}/assets/images/assign_search.png" width="15" height="15" alt=""/></a>
                                                    <div class="search_window animate_sideways" ng-show="principalsearchBox">                                        
                                                        <input class="search_reset_no_pagination" type="text" focus-on="principalfocusInput"  ng-model="search_principal" st-search=""  placeholder="Search">
                                                        <a class="close_button" st-refresh='name' ng-click="endViewSearch('principals')">&times;</a>
                                                    </div>                                                                        
                                                    <div class="search_sort_right">
<abbr title="Sort">
                                                        <span  class="sort_icon"  st-sort-default="{{sortType}}" st-skip-natural="true" st-sort="{{policyType=='users'?'uid':'name'}}" ></span>

</abbr>
                                                    </div>
                                                </div>
                                            </div>

                                            <div >
                                                <ul ng-if="selectedPolicyPrincipals.length != 0">
                                                    <li ng-repeat="selectedPrincipal in selectedPolicyPrincipals">{{selectedPrincipal.name}}{{selectedPrincipal.uid}} <span class="right_list_text_ref" ng-if="selectedPrincipal.sid != null"> ({{getSourceName(selectedPrincipal.sid)}})</span></li>                                                    
                                                </ul>
                                                <ul ng-if="selectedPolicyPrincipals.length == 0">
                                                    <li><i>No Records</i></li>
                                                </ul>
                                                <div class="clearfix"></div>
                                            </div>
                                            <div class="clearfix"></div>
                                        </div>    


                                        <div class="view_details_field_spacer"></div>
                                        <div class="users_grout_header">
                                        <label>Targets</label>
                                        </div>
                                        <md-content class="tab-list">
                                            <md-tabs md-dynamic-height class="md-accent" md-selected="data.selectedIndex" md-align-tabs="top">
                                                <md-tab id="tab1">
                                                    <md-tab-label>Resources</md-tab-label>
                                                    <md-tab-body>

                                                        <div  st-table="selectedPolicyResources" st-safe-src="selectedAuthzPolicyResources" ng-class="(selectedAuthzPolicyResourceCount > 8) ? 'view-sub-list-wrapper' : 'view-sub-list-wrapper-less'" >
                                                            <div class="view-sub-list view-sub-list-header-right"> 
                                                                <div ng-if="selectedAuthzPolicyResourceCount > rightPageinationPerPage" class="search_box">
                                                                    <span class="search_header">Name</span>
                                                                    <a class="search_icon_right_space search_button" ng-click="startViewSearch('resources')" ng-if="resourcesearchIcon"><img src="{{config.domainPath}}/assets/images/assign_search.png" width="15" height="15" alt=""/></a>
                                                                    <div class="search_window animate_sideways" ng-show="resourcesearchBox">                                        
                                                                        <input class="search_reset" type="text" focus-on="resourcefocusInput" ng-model="search_resource"  st-search=""  placeholder="Search">
                                                                        <a class="close_button" st-refresh='name' ng-click="endViewSearch('resources')">&times;</a>
                                                                    </div>                                                                        
                                                                    <div  class="right-pagination" st-pagination="" st-items-by-page="rightPageinationPerPage" st-template="shared/right-pagination.html" ></div>
                                                                    <div class="search_sort_right">
<abbr title="Sort">
                                                                        <span  class="sort_icon"  st-sort-default="{{sortType}}" st-skip-natural="true" st-sort="resource.fqdn" ></span>

</abbr>
                                                                    </div>
                                                                </div>

                                                                <div ng-if="selectedAuthzPolicyResourceCount <= rightPageinationPerPage" class="full search_box">
                                                                    <span class="search_header">Fully Qualified Name (Resource Type)</span>
                                                                    <a class="search_button" ng-click="startViewSearch('resources')" ng-if="resourcesearchIcon"><img src="{{config.domainPath}}/assets/images/assign_search.png" width="15" height="15" alt=""/></a>
                                                                    <div class="search_window animate_sideways" ng-show="resourcesearchBox">                                        
                                                                        <input class="search_reset_no_pagination" type="text" focus-on="resourcefocusInput"  ng-model="search_resource" st-search=""  placeholder="Search">
                                                                        <a class="close_button" st-refresh='name' ng-click="endViewSearch('resources')">&times;</a>
                                                                    </div>                                                                        
                                                                    <div class="search_sort_right">
<abbr title="Sort">
                                                                        <span  class="sort_icon"  st-sort-default="{{sortType}}" st-skip-natural="true" st-sort="resource.fqdn" ></span>

</abbr>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="cls_action">
                                                                <ul ng-if="selectedAuthzPolicyResourceCount != 0">
                                                                    <li ng-click="toggleExpand(resourceAction)" ng-repeat="resourceAction in selectedPolicyResources" style="{text-overflow:ellipsis}" ng-class="openAction==true?'nested_td':'';"><span class="float_lft">{{resourceAction.resource.fqdn}} <span class="right_list_text_ref">({{resourceAction.resource.typeName}})</span></span> 
                                                                    
                                                                    <div class='right_list_text_ref_blue' ng-click="openAction=!openAction" >(<span ng-repeat="act in resourceAction.actions">{{act.name}}<span style="margin-left:0px;" ng-if="$index < resourceAction.actions.length - 1">,</span></span>)</div>

                                                                        <div class="clearfix"></div>   
                                                                        <div class="fadein fadeout margn_bottom5" ng-show="openAction" st-table="selectedResourceAction" st-safe-src="resourceAction.actions" ng-class="(resourceAction.actions.length > 4) ? 'view-sub-list-wrapper' : 'view-sub-list-wrapper-less'">    
                                                                            
                                                                                <div class="view-sub-list view-sub-list-header-right">
                                                                                    
                                                                                    <div ng-if="resourceAction.actions.length > rightPageinationPerPage" class="search_box">
                                                                                        <span class="search_header">Actions{{resourceAction.id}}</span>
                                                                                        <a  class="search_icon_right_space right search_button"  ng-click="viewActionSearch('resourceActionsearchBox_'+resourceAction.resource.id)" ><img src="{{config.domainPath}}/assets/images/assign_search.png"  alt=""/></a>
                                                                                        <div id="resourceActionsearchBox_{{resourceAction.resource.id}}" class="right search_window animate_sideways" ng-show="resourceActionsearchBox_{{resourceAction.resource.id}}">                                        
                                                                                            <input class="search_reset" type="text" focus-on="resourceActionfocusInput" ng-model="search_resourceAction"  st-search=""  placeholder="Search">
                                                                                            <a class="close_button" st-refresh='name' ng-click="viewActionSearch('resourceActionsearchBox_'+resourceAction.resource.id)">&times;</a>
                                                                                        </div>                                                                        
                                                                                        <div  class="right-pagination" st-pagination="" st-items-by-page="rightPageinationPerPage" st-template="shared/right-pagination.html" ></div>
                                                                                        <div class="search_sort_right">
<abbr title="Sort">
                                                                                            <span  class="sort_icon"  st-sort-default="{{sortType}}" st-skip-natural="true" st-sort="name" ></span>

</abbr>
                                                                                        </div>
                                                                                    </div>
                                                                                    
                                                                                    <div ng-if="resourceAction.actions.length <= rightPageinationPerPage" class="full search_box">
                                                                                        <span class="search_header" style="margin-left: 0px;">Actions</span>
                                                                                        <a  class="search_button" ng-click="viewActionSearch('resourceActionsearchBox_'+resourceAction.resource.id)" ><img src="{{config.domainPath}}/assets/images/assign_search.png"  alt=""/></a>
                                                                                        <div id="resourceActionsearchBox_{{resourceAction.resource.id}}" class="search_window animate_sideways" ng-show="resourceActionsearchBox_{{resourceAction.resource.id}}">                                        
                                                                                            <input class="search_reset_no_pagination" type="text" focus-on="resourceActionfocusInput"  ng-model="search_resourceAction" st-search=""  placeholder="Search">
                                                                                            <a class="close_button" st-refresh='name' ng-click="viewActionSearch('resourceActionsearchBox_'+resourceAction.resource.id)">&times;</a>

                                                                                        </div> 
                                                                                        <div class="search_sort_right sort_right_child">
                                                                                            <span  class="sort_icon" style="margin-left: 0px;"  st-sort-default="{{sortType}}" st-skip-natural="true" st-sort="name" ></span>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <ul ng-if="selectedResourceAction.length != 0">
                                                                                    <li ng-repeat="action in selectedResourceAction">{{action.name}}</li>
                                                                                </ul>
                                                                                <ul ng-if="selectedResourceAction.length == 0">
                                                                                    <li><i>No Records</i></li>
                                                                                </ul>
                                                                        </div>
                                                                    </li>     
                                                                </ul>
                                                                <ul ng-if="selectedAuthzPolicyResourceCount == 0">
                                                                    <li><i>No Records</i></li>
                                                                </ul>
                                                                <div class="clearfix"></div>
                                                            </div>
                                                            <div class="clearfix"></div>
                                                        </div>
                                                    </md-tab-body>
                                                </md-tab>


                                                <md-tab id="tab2">
                                                    <md-tab-label>Resource Groups</md-tab-label>
                                                    <md-tab-body>

                                                        <div  st-table="selectedPolicyResourceGroups" st-safe-src="selectedAuthzPolicyResourceGroups" ng-class="(selectedAuthzPolicyResourceGroupCount > 8) ? 'view-sub-list-wrapper' : 'view-sub-list-wrapper-less'" >
                                                            <div class="view-sub-list view-sub-list-header-right"> 
                                                                <div ng-if="selectedAuthzPolicyResourceGroupCount > rightPageinationPerPage" class="search_box">
                                                                    <span class="search_header">Name</span>
                                                                    <a class="search_icon_right_space search_button" ng-click="startViewSearch('resourcegroups')" ng-if="resourcegroupsearchIcon"><img src="{{config.domainPath}}/assets/images/assign_search.png" width="15" height="15" alt=""/></a>
                                                                    <div class="search_window animate_sideways" ng-show="resourcegroupsearchBox">                                        
                                                                        <input class="search_reset" type="text" focus-on="resourcegroupfocusInput" ng-model="search_resourcegroup"  st-search=""  placeholder="Search">
                                                                        <a class="close_button" st-refresh='name' ng-click="endViewSearch('resourcegroups')">&times;</a>
                                                                    </div>                                                                        
                                                                    <div  class="right-pagination" st-pagination="" st-items-by-page="rightPageinationPerPage" st-template="shared/right-pagination.html" ></div>
                                                                    <div class="search_sort_right">
<abbr title="Sort">
                                                                        <span  class="sort_icon"  st-sort-default="{{sortType}}" st-skip-natural="true" st-sort="resource.fqdn" ></span>

</abbr>
                                                                    </div>
                                                                </div>

                                                                <div ng-if="selectedAuthzPolicyResourceGroupCount <= rightPageinationPerPage" class="full search_box">
                                                                    <span class="search_header">Name (Resource Type)</span>
                                                                    <a class="search_button" ng-click="startViewSearch('resourcegroups')" ng-if="resourcegroupsearchIcon"><img src="{{config.domainPath}}/assets/images/assign_search.png" width="15" height="15" alt=""/></a>
                                                                    <div class="search_window animate_sideways" ng-show="resourcegroupsearchBox">                                        
                                                                        <input class="search_reset_no_pagination" type="text" focus-on="resourcegroupfocusInput"  ng-model="search_resourcegroup" st-search=""  placeholder="Search">
                                                                        <a class="close_button" st-refresh='name' ng-click="endViewSearch('resourcegroups')">&times;</a>
                                                                    </div>                                                                        
                                                                    <div class="search_sort_right">
<abbr title="Sort">
                                                                        <span  class="sort_icon"  st-sort-default="{{sortType}}" st-skip-natural="true" st-sort="resource.fqdn" ></span>

</abbr>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div >
                                                                <ul ng-if="selectedAuthzPolicyResourceGroupCount != 0">
                                                                    <li ng-click="toggleExpand(resourceAction)" ng-repeat="resourceAction in selectedPolicyResourceGroups" style="{text-overflow:ellipsis}" ng-class="openAction==true?'nested_td':'';"><span class="float_lft">{{resourceAction.resource.fqdn}} <span class="right_list_text_ref">({{resourceAction.resource.typeName}})</span></span>
                                                                    <div class='right_list_text_ref_blue' ng-click="openAction=!openAction">(<span ng-repeat="act in resourceAction.actions">{{act.name}}<span style="margin-left:0px;" ng-if="$index < resourceAction.actions.length - 1">,</span></span>)</div>

                                                                        <div class="clearfix"></div> 
                                                                        <div  class="fadein fadeout margn_bottom5" ng-show="openAction" st-table="selectedResourceAction" st-safe-src="resourceAction.actions" ng-class="(resourceAction.actions.length > 4) ? 'view-sub-list-wrapper' : 'view-sub-list-wrapper-less'">    
                                                                            
                                                                                <div class="view-sub-list view-sub-list-header-right">
                                                                                    
                                                                                    <div ng-if="resourceAction.actions.length > rightPageinationPerPage" class="search_box">
                                                                                        <span class="search_header" style="margin-left: 0px;">Actions{{resourceAction.id}}</span>
                                                                                        <a  class="search_icon_right_space right search_button"  ng-click="viewActionSearch('resourceActionsearchBox_'+resourceAction.resource.id)" ><img src="{{config.domainPath}}/assets/images/assign_search.png"  alt=""/></a>
                                                                                        <div id="resourceActionsearchBox_{{resourceAction.resource.id}}" class="right search_window animate_sideways" ng-show="resourceActionsearchBox_{{resourceAction.resource.id}}">                                        
                                                                                            <input class="search_reset" type="text" focus-on="resourceActionfocusInput" ng-model="search_resourceAction"  st-search=""  placeholder="Search">
                                                                                            <a class="close_button" st-refresh='name' ng-click="viewActionSearch('resourceActionsearchBox_'+resourceAction.resource.id)">&times;</a>
                                                                                        </div>                                                                        
                                                                                        <div  class="right-pagination" st-pagination="" st-items-by-page="rightPageinationPerPage" st-template="shared/right-pagination.html" ></div>
                                                                                        <div class="search_sort_right">
<abbr title="Sort">
                                                                                            <span  class="sort_icon"  st-sort-default="{{sortType}}" st-skip-natural="true" st-sort="name" ></span>

</abbr>
                                                                                        </div>
                                                                                    </div>
                                                                                    
                                                                                    <div ng-if="resourceAction.actions.length <= rightPageinationPerPage" class="full search_box">
                                                                                        <span class="search_header" style="margin-left: 0px;">Actions</span>
                                                                                        <a  class="search_button" ng-click="viewActionSearch('resourceActionsearchBox_'+resourceAction.resource.id)" ><img src="{{config.domainPath}}/assets/images/assign_search.png"  alt=""/></a>
                                                                                        <div id="resourceActionsearchBox_{{resourceAction.resource.id}}" class="search_window animate_sideways" ng-show="resourceActionsearchBox_{{resourceAction.resource.id}}">                                        
                                                                                            <input class="search_reset_no_pagination" type="text" focus-on="resourceActionfocusInput"  ng-model="search_resourceAction" st-search=""  placeholder="Search">
                                                                                            <a class="close_button" st-refresh='name' ng-click="viewActionSearch('resourceActionsearchBox_'+resourceAction.resource.id)">&times;</a>

                                                                                        </div> 
                                                                                        <div class="search_sort_right sort_right_child">
<abbr title="Sort">
                                                                                            <span  class="sort_icon" style="margin-left: 0px;"  st-sort-default="{{sortType}}" st-skip-natural="true" st-sort="name" ></span>

</abbr>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                 <ul ng-if="selectedResourceAction.length != 0">
                                                                                    <li ng-repeat="action in selectedResourceAction">{{action.name}}</li>
                                                                                </ul>
                                                                                <ul ng-if="selectedResourceAction.length == 0">
                                                                                    <li><i>No Records</i></li>
                                                                                </ul>
                                                                        </div>
                                                                    </li>     
                                                                </ul>
                                                                <ul ng-if="selectedAuthzPolicyResourceGroupCount == 0">
                                                                    <li><i>No Records</i></li>
                                                                </ul>
                                                                <div class="clearfix"></div>
                                                            </div>
                                                            <div class="clearfix"></div>
                                                        </div>
                                                    </md-tab-body>
                                                </md-tab>                           
                                            </md-tabs>
                                        </md-content>
                                        <div class="view_details_field_spacer"></div>
                                        
                                        <label>Function</label>
                                        
                                        <p ng-if="selectedAuthzPolicy.function != null && selectedAuthzPolicy.function.id > 0">{{ selectedAuthzPolicy.function.name}} ( <span ng-repeat="arg in selectedAuthzPolicy.args">{{arg}} <span ng-if="$index < selectedAuthzPolicy.args.length - 1">, </span></span>) = true</p>
                                        <p ng-if="selectedAuthzPolicy.function == null || selectedAuthzPolicy.function.id == 0">No Records</p>


                                        <div class="view_details_field_spacer"></div>
                                        <div class="users_grout_header">
                                        <label>Obligations</label>
                                        </div>
                                        <p ng-if="selectedAuthzPolicy.obligations == null || selectedAuthzPolicy.obligations.length == 0">No Records</p>
                                        <div class="view-sub-list-wrapper-less">
                                        <table ng-if="selectedAuthzPolicy.obligations != null && selectedAuthzPolicy.obligations.length > 0" class="view_details_generic_table remove_hover">
                                            <thead>
                                                <tr>
                                                    <th>Name</th>
                                                    <th>Value</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="obligation in selectedAuthzPolicy.obligations">
                                                    <td>{{obligation.name}}</td>
                                                    <td>{{obligation.value}}</td>
                                                </tr>
                                            </tbody>

                                        </table>
                                        </div>
                                        <div class="view_details_field_spacer"></div>
                                    </div>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                            <!--div class="view_details">{{error}}</div-->
                            <div class="clearfix"></div>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
    </div>
</div>
    <ng-include src="config.domainPath+'/shared/footer.html'"></ng-include>
